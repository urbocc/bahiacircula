

<!DOCTYPE html>
<html>
<head><body>
<script>

  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(function(position) {
      var lat = position.coords.latitude;
      var long = position.coords.longitude;
      var ciudad = getCiudad(lat, long);
      window.location.href = ciudad ;
    });
  } else {
    // Manejo del caso en el que el navegador no soporte geolocalización
  }

  function getCiudad(lat, long) {
    // Aquí puedes definir las coordenadas y nombres de las ciudades
    var ciudades = [
      { nombre: 'madrid', lat: 40.416775, long: -3.703790 },
      { nombre: 'barcelona', lat: 41.385063, long: 2.173404 },
      { nombre: 'sevilla', lat: 37.389092, long: -5.984459 },
      { nombre: 'bahiablanca', lat: -38.719594, long: -62.266402 },
      { nombre: 'laplata', lat: -34.921452, long: -57.954528 },

      // Añade más ciudades con sus coordenadas
    ];
    
    // Busca la ciudad más cercana a las coordenadas dadas
    var distanciaMinima = Number.MAX_VALUE;
    var ciudadMasCercana = '';
    for (var i = 0; i < ciudades.length; i++) {
      var ciudadActual = ciudades[i];
      var distancia = calcularDistancia(lat, long, ciudadActual.lat, ciudadActual.long);
      if (distancia < distanciaMinima) {
        distanciaMinima = distancia;
        ciudadMasCercana = ciudadActual.nombre;
      }
    }
    
    return ciudadMasCercana;
  }
  
  function calcularDistancia(lat1, long1, lat2, long2) {
    // Aquí puedes utilizar alguna fórmula para calcular la distancia entre dos puntos geográficos
    // Por ejemplo, puedes usar la fórmula de Haversine: https://en.wikipedia.org/wiki/Haversine_formula
    // En este ejemplo, se utiliza una fórmula aproximada
    var r = 6371; // Radio de la Tierra en kilómetros
    var dLat = (lat2 - lat1) * Math.PI / 180;
    var dLong = (long2 - long1) * Math.PI / 180;
    var a = Math.sin(dLat/2) * Math.sin(dLat/2) +
            Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
            Math.sin(dLong/2) * Math.sin(dLong/2);
    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
    var d = r * c;
    return d;
  }
</script>


</body>
</html>